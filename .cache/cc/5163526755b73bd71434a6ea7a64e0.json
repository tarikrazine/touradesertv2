{"id":"index.js","dependencies":[{"name":"C:\\Users\\razin\\Desktop\\touradesertv2\\package.json","includedInParent":true,"mtime":1595882234824},{"name":"core-js/modules/web.timers","parent":"C:\\Users\\razin\\Desktop\\touradesertv2\\public\\js\\index.js","resolved":"C:\\Users\\razin\\Desktop\\touradesertv2\\node_modules\\core-js\\modules\\web.timers.js"},{"name":"core-js/modules/web.immediate","parent":"C:\\Users\\razin\\Desktop\\touradesertv2\\public\\js\\index.js","resolved":"C:\\Users\\razin\\Desktop\\touradesertv2\\node_modules\\core-js\\modules\\web.immediate.js"},{"name":"core-js/modules/web.dom.iterable","parent":"C:\\Users\\razin\\Desktop\\touradesertv2\\public\\js\\index.js","resolved":"C:\\Users\\razin\\Desktop\\touradesertv2\\node_modules\\core-js\\modules\\web.dom.iterable.js"},{"name":"./mapbox","loc":{"line":3,"column":27},"parent":"C:\\Users\\razin\\Desktop\\touradesertv2\\public\\js\\index.js","resolved":"C:\\Users\\razin\\Desktop\\touradesertv2\\public\\js\\mapbox.js"},{"name":"./login","loc":{"line":4,"column":22},"parent":"C:\\Users\\razin\\Desktop\\touradesertv2\\public\\js\\index.js","resolved":"C:\\Users\\razin\\Desktop\\touradesertv2\\public\\js\\login.js"},{"name":"./logout","loc":{"line":5,"column":23},"parent":"C:\\Users\\razin\\Desktop\\touradesertv2\\public\\js\\index.js","resolved":"C:\\Users\\razin\\Desktop\\touradesertv2\\public\\js\\logout.js"},{"name":"./profile-update","loc":{"line":6,"column":30},"parent":"C:\\Users\\razin\\Desktop\\touradesertv2\\public\\js\\index.js","resolved":"C:\\Users\\razin\\Desktop\\touradesertv2\\public\\js\\profile-update.js"},{"name":"./password-update","loc":{"line":7,"column":31},"parent":"C:\\Users\\razin\\Desktop\\touradesertv2\\public\\js\\index.js","resolved":"C:\\Users\\razin\\Desktop\\touradesertv2\\public\\js\\password-update.js"},{"name":"./stripe","loc":{"line":8,"column":25},"parent":"C:\\Users\\razin\\Desktop\\touradesertv2\\public\\js\\index.js","resolved":"C:\\Users\\razin\\Desktop\\touradesertv2\\public\\js\\stripe.js"}],"generated":{"js":"\"use strict\";\n\nrequire(\"core-js/modules/web.timers\");\n\nrequire(\"core-js/modules/web.immediate\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nvar _mapbox = require(\"./mapbox\");\n\nvar _login = require(\"./login\");\n\nvar _logout = require(\"./logout\");\n\nvar _profileUpdate = require(\"./profile-update\");\n\nvar _passwordUpdate = require(\"./password-update\");\n\nvar _stripe = require(\"./stripe\");\n\n// DOM elements\nconst mapBox = document.getElementById('map');\nconst out = document.getElementById('logout'); // Form login\n\nconst formLogin = document.getElementById('form-login'); // Form update profile\n\nconst formProfile = document.getElementById('form-profile'); // Form password\n\nconst formPassword = document.getElementById('form-password'); // Button book tour\n\nconst btnBook = document.getElementById('book-tour'); // Delegation\n\nif (mapBox) {\n  const locations = JSON.parse(mapBox.dataset.locations); // Set locations data\n\n  (0, _mapbox.displayMap)(locations);\n} // Form login event\n\n\nif (formLogin) {\n  // addListener to the form login\n  formLogin.addEventListener('submit', e => {\n    e.preventDefault();\n    const email = formLogin.email.value;\n    const password = formLogin.password.value;\n    (0, _login.login)(email, password);\n  });\n} // Log out event\n\n\nif (out) {\n  out.addEventListener('click', _logout.logout);\n} // From update profile event\n\n\nif (formProfile) {\n  formProfile.addEventListener('submit', e => {\n    e.preventDefault();\n    /* const name = formProfile.name.value;\n    const email = formProfile.email.value; */\n\n    const form = new FormData();\n    form.append('name', document.getElementById('name').value);\n    form.append('email', document.getElementById('email').value);\n    form.append('photo', document.getElementById('photo').files[0]);\n    (0, _profileUpdate.profileUpdate)(form);\n  });\n} // Form update password event\n\n\nif (formPassword) {\n  formPassword.addEventListener('submit', async e => {\n    e.preventDefault();\n    let btnSavePassword = document.querySelector('.btn--password-save');\n    btnSavePassword.textContent = 'Updating...';\n    const currentPassword = formPassword.currentPassword.value;\n    const newPassword = formPassword.password.value;\n    const confirmPassword = formPassword.confirmPassword.value;\n    await (0, _passwordUpdate.passwordUpdate)(currentPassword, newPassword, confirmPassword);\n    formPassword.currentPassword.value = '';\n    formPassword.password.value = '';\n    formPassword.confirmPassword.value = '';\n    btnSavePassword.textContent = 'Save password';\n  });\n} // Button book tour\n\n\nif (btnBook) {\n  btnBook.addEventListener('click', e => {\n    e.target.textContent = 'Processing...';\n    const tourID = e.target.dataset.tourId;\n    (0, _stripe.bookTour)(tourID);\n  });\n}"},"sourceMaps":null,"error":null,"hash":"6e59cae2b6eec95e775a37423719eca0","cacheData":{"env":{}}}